<html>

  <head>
        <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

     <!-- Compiled and minified JavaScript -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     <script src="https://unpkg.com/axios@0.21.1/dist/axios.min.js"></script>
  </head>

  <body>
    <nav>
      <div class="nav-wrapper #ff5252 red accent-2">
        <a href="#" class="brand-logo center black-text">Dashboard</a>
      </div>
    </nav>

    <div class="row">
      <div class="col s12 m6">
        <div class="card #448aff blue accent-2">
          <div class="card-content black-text">
            <span class="card-title" id="geo">title</span>
            <div id="weather">
              <div class="progress">
                <div class="indeterminate"></div>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- End of first card -->

      <div class="col s12 m6">
        <div class="card blue">
          <div class="card-content black-text">
            <span class="card-title">List</span>
            <p>I am a very simple card. I am good at containing small bits of information.
            I am convenient because I require little markup to use effectively.</p>
          </div>
        </div>
      </div> <!-- End of second card -->
    </div> <!-- End of first row -->



  <div class="row">
    <div class="col s12 m6">
      <div class="card #b2ebf2 cyan lighten-4">
        <div class="card-content black-text">
          <span class="card-title">List</span>
          <p>I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
        </div>
      </div>
    </div> <!-- End of first card -->

    <div class="col s12 m6">
      <div class="card #e0f7fa cyan lighten-5">
        <div class="card-content black-text">
          <span class="card-title">List</span>
          <p>I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
        </div>
      </div>
    </div> <!-- End of second card -->
  </div> <!-- End of second row -->

  <script>
  axios.get('https://ipapi.co/json/')
   .then(response => {
     var lat = response.data.latitude;
     var lon = response.data.longitude;
     geoData(response.data);
     var wstring = 'https://www.7timer.info/bin/civillight.php?lon=' + lon + '&lat=' + lat + '&unit=metric&output=json';
     weatherData(wstring);
   })

 function geoData(response) {
   var gHandle = document.getElementById('geo');
   gHandle.innerHTML = response.city;
 }

 function weatherData(wstring) {
   axios.get(wstring)
     .then(response => {
       var gHandle = document.getElementById('weather');
       var myHTML = "Todays weather is " + response.data.dataseries[0].weather;
       gHandle.innerHTML = myHTML;
     })
 }

  </script>

</html>
